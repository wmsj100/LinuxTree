---
title: 路由器
date: 2018-04-05 11:17:37 Thu
modify: 2018-04-05 11:17:37 Thu
tag: [net]
categories: NetWork
author: wmsj100
mail: wmsj100@hotmail.com
---

# 路由器

## 概述
- 路由器时一种具有多个输入端口和输出端口的专用计算机，其任务是转发分组，从路由器某个端口收到分组，按照分组要去的目的地把该分组从路由器的某个合适的输出端口转发给下一跳路由器
- 路由器的转发分组是网络层的主要工作
- 路由器的结构可以划分为路由选择部分和分组转发部分
	- 路由选择部分：也叫控制部分，核心构件是路由选择处理机，任务是根据所选定的路由选择协议构造出路由表，同时经常或定期地和相邻路由器交换路由表信息而不断地更新和维护路由表
	- 分组转发部分由输入端口，输出端口， 交换结构
- 路由器功能：路由选择和转发分组
- 分组转发： 交换结构、输入端口、输出端口
- 交换结构：根据转发表对分组进行处理，将某个输入端口进入的分组从一个合适的输出端口转发出去。
- 交换结构本身就是一种网络，是完全包含在路由器中的网络
- 路由表一般仅包含从目的网络到下一跳（IP）的映射，而转发表是从路由表中得出的。
- 转发表必须包含完成转发功能所必须的信息，没一行必须包含从要到达的目的网络到输出端口和某些MAC地址信息的映射。
- 转发表和路由表用不同的数据结构实现
- 转发表应该使查找过程最优化，可以用特殊的硬件来实现
- 路由表需要对网络拓扑变化的计算最优化，用软件实现
- 通常笼统的用路由表来概括转发表和路由表
- 输入端口中的查找和转发功能在路由器的交换功能中最重要，为了是交换功能分散化，往往把复制的转发表放在每一个输入端口中。路由选择处理机负责对各转发表的副本进行更新。
- 路由器最重要的课题就是怎样提高转发速率
- 在路由器的输入端口和输出端口都可能会在队列中排队等候处理，若分组处理的速率赶不上分组进入队列的速率，则队列的存储空间最终必定减少到零，这样后面再进入队列的分组由于没有存储空间而只能被丢弃，这也叫做队列产生溢出，使分组丢失

## 交换结构
- 路由器的关键结构，把分组从一个端口转义到某个合适的输出端口，
- 有三种交换方法：通过转存器、通过总线(1 Gbit/s)、通过互联网络(60 Gbit/s)
