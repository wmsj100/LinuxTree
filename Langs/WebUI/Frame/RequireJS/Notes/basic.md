---
title: basic
date: 2018-05-07 19:53:55 Mon
modify: 2018-05-07 19:53:55 Mon
tag: [requireJS]
categories: WEB
author: wmsj100
mail: wmsj100@hotmail.com
---

# 基础
> 随着网站逐渐变成"互联网应用程序"，嵌入网页的Javascript代码越来越庞大，越来越复杂。网页越来越像桌面程序，需要一个团队分工协作、进度管理、单元测试等等......开发者不得不使用软件工程的方法，管理网页的业务逻辑。

## 概述
- Javascript模块化编程，已经成为一个迫切的需求。理想情况下，开发者只需要实现核心的业务逻辑，其他都可以加载别人已经写好的模块。
- Javascript不是一种模块化编程语言，它不支持"类"（class），就不用谈论模块了。尽管通过匿名函数自执行（返回方法）或者面向对象等方式，使其看似模块化，但如何保证方法与调用之间的依赖关系是一个值得思考的问题，在这个基础上require.js诞生了

## 为什么使用require.js
- 使用RequireJS的目标是鼓励代码的模块化，它使用了不同于传统标签的脚本加载步骤。可以用它来加速、优化代码，但其主要目的还是为了代码的模块化。它鼓励在使用脚本时以module ID替代URL地址。

## 优势
1. 实现js文件的异步加载，避免网页失去响应，提高性能；
2. 管理模块之间的依赖性，便于代码的编写和维护。
3. 实现了代码的模块化，便于复用。

## requireJS是什么
- RequireJS是一个工具库，主要用于客户端的模块管理。它可以让客户端的代码分成一个个模块，实现异步或动态加载，从而提高代码的性能和可维护性。它的模块管理遵守AMD规范（Asynchronous Module Definition）。

## AMD 模块
- AMD（异步模块定义，Asynchronous Module Definition）格式总体的目标是为现在的开发者提供一个可用的模块化 JavaScript 的解决方案。
- RequireJS的基本思想是，通过define方法，将代码定义为模块(插件)；通过require方法，实现代码的模块加载。

## config
- baseUrl 参数指定本地模块位置的基准目录，即本地模块的路径是相对于哪个目录的。该属性通常由require.js加载时的data-main属性指定。
- paths 参数指定各个模块的位置。这个位置可以是同一个服务器上的相对位置，也可以是外部网址。可以为每个模块定义多个位置，如果第一个位置加载失败，则加载第二个位置，上面的示例就表示如果CDN加载失败，则加载服务器上的备用脚本。需要注意的是，指定本地文件路径时，可以省略文件最后的js后缀名。
- shim 通过require加载的模块一般都需要符合AMD规范即使用define来申明模块，但是部分时候需要加载非AMD规范的js，这时候就需要用到另一个功能：shim，shim解释起来也比较难理解，shim直接翻译为"垫"，其实也是有这层意思的。
- 非AMD模块输出，将非标准的AMD模块"垫"成可用的模块，例如：在老版本的jquery中，是没有继承AMD规范的，所以不能直接require["jquery"],这时候就需要shim，比如我要是用老版本jquery类库，但是他并没有实现AMD规范，那我们可以这样配置

## 参考
- http://www.cnblogs.com/merzoo/p/5327869.html
- http://www.cnblogs.com/lisongy/p/4711056.html
