---
title: JavaScript历史
date: 2016-04-28
tags: [JavaScript]
categories: Dynamic
---

1. JS由三部分组成：`ECMAScript` 核心、文档对象模型(DOM)、`浏览器对象模型(BOM)` 

2. `ECMAScript` 与WEB浏览器没有依赖关系，它规定了以下内容：语法、类型、语句、关键字、保留字、操作符、对象

3. 在`script` 脚本内部不能出现`</script>` 如下代码是不会被执行的。

   ```javascript
   <script>
   	function sayScript(){
   		alert("</script>");
   	}
   	sayScript();
   </script>
   ```

   需要使用`\` 进行转义，

   ```javascript
   <script>
   	function sayScript(){
   		alert("<\/script>");
   	}
   	sayScript();
   </script>
   ```

4. 需要注意的是，带有 src 属性的 <script> 元素不应该在其 <script> 和 </script> 标签之间再包含额外的 JavaScript 代码。如果包含了嵌入的代码，则只会下载并执行外部脚本文件，嵌入的代码
   会被忽略。

5. 另外，通过 <script> 元素的 src 属性还可以包含来自外部域的 JavaScript 文件。这一点既让<script> 元素倍显强大，又让它备受争议。在这一点上， <script> 与 <img> 元素非常相似，即它的 src属性可以是指向当前 HTML 页面所在域之外的某个域中的完整 URL，例如：<script type="text/javascript" src="http://www.somewhere.com/afile.js"></script>

   这样，位于外部域中的代码也会被加载和解析，就像这些代码位于加载它们的页面中一样。利用这一点就可以在必要时通过不同的域来提供 JavaScript 文件。不过，在访问自己不能控制的服务器上的JavaScript 文件时则要多加小心。如果不幸遇到了怀有恶意的程序员，那他们随时都可能替换该文件中的代码。因此，如果想包含来自不同域的代码，则要么你是那个域的所有者，要么那个域的所有者值得信赖。
   ​        无论如何包含代码，只要不存在 defer 和 async 属性，浏览器都会按照 <script> 元素在页面中出现的先后顺序对它们依次进行解析。换句话说，在第一个 <script> 元素包含的代码解析完成后，第二个 <script> 包含的代码才会被解析，然后才是第三个、第四个……

6. 把`<script>....</script>` 放到页面底部，在解析包含的 JavaScript 代码之前，页面的内容将完全呈现在浏览器中。而用户也会因为浏览器窗口显示空白页面的时间缩短而感到打开页面的速度加快了。

7. 嵌入代码与外部文件

   在 HTML 中嵌入 JavaScript 代码虽然没有问题，但一般认为最好的做法还是尽可能使用外部文件来包含 JavaScript 代码。不过，并不存在必须使用外部文件的硬性规定，但支持使用外部文件的人多会强调如下优点。
     可维护性：遍及不同 HTML 页面的 JavaScript 会造成维护问题。但把所有 JavaScript 文件都放在
   一个文件夹中，维护起来就轻松多了。而且开发人员因此也能够在不触及 HTML 标记的情况下，集中精力编辑 JavaScript 代码。
     可缓存：浏览器能够根据具体的设置缓存链接的所有外部 JavaScript文件。也就是说，如果有两个页面都使用同一个文件，那么这个文件只需下载一次。因此，最终结果就是能够加快页面加载的速度。
     适应未来：通过外部文件来包含 JavaScript 无须使用前面提到 XHTML 或注释 hack。HTML 和XHTML 包含外部文件的语法是相同的。

8. 文档模式--IE5.5 引入了文档模式的概念，而这个概念是通过使用文档类型（doctype）切换实现的。

   最初的俩种文档模式是：混杂模式（quirks mode）和标准模式（standards mode）。混杂模式会让 IE 的行为与（包含非标准特性的）IE5 相同，而标准模式则让 IE 的行为更接近标准行为。虽然这两种模式主要影响 CSS内容的呈现，但在某些情况下也会影响到 JavaScript 的解释执行。在 IE 引入文档模式的概念后，其他浏览器也纷纷效仿。

   如果在文档开始处没有发现文档类型声明，则所有浏览器都会默认开启混杂模式。但采用混杂模式不是什么值得推荐的做法，因为不同浏览器在这种模式下的行为差异非常大，如果不使用某些 hack 技术，跨浏览器的行为根本就没有一致性可言。

9. <noscript> 元素

   在 <noscript> 元素中的内容只有在下列情况下才会显示出来：

   - 浏览器不支持脚本；


- 浏览器支持脚本，但脚本被禁用。

   符合上述任何一个条件，浏览器都会显示 <noscript> 中的内容。而在除此之外的其他情况下，浏览器不会呈现 <noscript> 中的内容。

```html
   <body>
   <noscript>
   <p> 本页面需要浏览器支持（启用）JavaScript 。
   </noscript>
   </body>
```

### 小结

把 JavaScript 插入到 HTML 页面中要使用 <script> 元素。使用这个元素可以把 JavaScript 嵌入到HTML页面中，让脚本与标记混合在一起；也可以包含外部的 JavaScript文件。而我们需要注意的地方有：

1.  在包含外部 JavaScript 文件时，必须将 src 属性设置为指向相应文件的 URL。而这个文件既可以是与包含它的页面位于同一个服务器上的文件，也可以是其他任何域中的文件。

2.  所有 <script> 元素都会按照它们在页面中出现的先后顺序依次被解析。在不使用 defer 和async 属性的情况下，只有在解析完前面 <script> 元素中的代码之后，才会开始解析后面<script> 元素中的代码。

3.  由于浏览器会先解析完不使用 defer 属性的 <script> 元素中的代码，然后再解析后面的内容，所以一般应该把 <script> 元素放在页面最后，即主要内容后面， </body> 标签前面。

4.  使用 defer 属性可以让脚本在文档完全呈现之后再执行。延迟脚本总是按照指定它们的顺序执行。

5.  使用 async 属性可以表示当前脚本不必等待其他脚本，也不必阻塞文档呈现。不能保证异步脚本按照它们在页面中出现的顺序执行。​



另外，使用 <noscript> 元素可以指定在不支持脚本的浏览器中显示的替代内容。但在启用了脚本的情况下，浏览器不会显示 <noscript> 元素中的任何内容。

