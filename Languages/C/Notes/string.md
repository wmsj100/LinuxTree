---
title: 字符串
date: 2019-04-15 20:24:40	
modify: 2019-04-23 09:36:19	 
tag: [string]
categories: C
author: wmsj100
mail: wmsj100@hotmail.com
---

# 字符串

## 概述
- 使用""表示字符串
- 字符串没有专门的关键字，只能使用数组或指针来间接的存储字符串
- `char str1[]` 或者 `char *str2`  \*
- *str: 这是指针，只能读取，不能写入，所以字符串的很多写入方法(strcat)不能使用 、*
- str[30]: 这是字符数组组成的字符串，可以写入，strcat等写入方法可以使用

## 方法
- strcat(str1, str2) 把str2连接到str1，str1必须长度足够，否则发生溢出，字符串连接会把str1的`\0`删除，然后把str2包括`\0`连接到str1上
- strcpy(str1, str2) 把str2拷贝到str1，拷贝时候包括结尾符`\0` 
- strncpy(string, s, i) 将s字符串的前`i`个字符复制给string
- strcmp(str1, str2) 比较字符串大小，str1>str2:1; str1<str2:-1; str1==str2: 0 \>
- strlen(str); 获取字符串长度
- strupr(string) 全部转换为大写
- strlwr(string) 全部转换为小写
- strlen(string) 获取字符串的长度，不包括结尾符`\0`

## 赋值 
- char str[30]={"wmsj10.com"}
- char str[30]="wmsj100.com"
- 字符数组只有在定义的时候可以一次性写入多个字符组成字符串，一旦定义完成就只能一个一个字符赋值了

## 字符串结束标志
- `\0`: C语言规定字符串以这个字符结束，
- C语言在处理字符串时候只有遇到`\0`才会结束字符串，否则会一直处理后面内存位置
- 通常`\0`是C语言隐式添加的，后台默默进行，不感知
- 如果一个字符数组中包含多个`\0`时，读到第一个就结束输出
- 如果是逐个字符给字符数组赋值，不会添加`\0`
- char str[4]="abc" 这个字符串长度是4，最后位置`\0`是隐式添加的，如果长度为3，就无法容纳`\0`，导致读取错误

## 字符插入
- 字符串其实类似数组，只能修改不能插入和删除，因为涉及到内存移动，而且移动会影响到后面的值，性能堪忧
- 使用字符插入和删除要借用`strncpy`来复制指定长度字符串，通过`strcat`来重新连接字符串，这样就间接实现了这个操作

## 在index位置删除len字符
- 这个操作就是去除一个前端
- 相当于把字符串偏移len距离
- str[i]=str[len+i]

## 遍历用户输入字符串
- 因为无法知道用户输入字符串的长度，所以在`for`循环判断时候可以用是否为`\0`
- if(int i=0；i!='\0';i++) 这样遍历到字符串末尾会自动停止循环

## 参考
- []()
