---
title: 分布式系统
date: 2020-04-07 22:21:30
modify: 
tags: [Notes]
categories: OSS
author: wmsj100
email: wmsj100@hotmail.com
---

# 分布式系统

## 概要

- 分布式系统是若干独立计算机的集合,这些计算机对用户来说就像是单个相关系统.
- 集群: 将相同的程序,通过不断横向扩展,以提高服务能力的方式.
- 分布式的一个明显优点是可扩展性.
- 谷歌的服务器主机大多是淘汰的二线机子拼凑.

## 分布式系统的挑战

- 异构性: 分布式系统由于基于不同的网络/操作系统/计算机硬件/编程语言来构造,必须要考虑一种通用的网络通信协议来屏蔽异构系统之间的差异.一般交由中间件来处理这些差异.
- 缺乏全球时钟: 在程序需要协作时,它们通过交换信息来协调他们的动作.紧密的协调经常依赖于对程序动作发生时间的共识,但实际上网络上计算机同步时钟的准确性受到极大的限制.即没有一个正确时间的全局概念.这是通过网络发送消息作为唯一通信方式这一事实带来的直接结果.
- 故障的独立性: 任何计算机都有可能故障,且各种故障不尽相同.他们之间出现故障的时机也是相互独立的.一般分布式系统被设计成允许出现部分故障而不影响整个系统的正常使用.
- 并发: 分布式系统的目的,是为了更好的共享资源.那么系统中的每个资源都必须被设计成在并发环境中时安全的.
- 透明性: 分布式系统中任何组件的故障,或者主机的迁移/升级对于用户来说都是透明的,不可见的.
- 开放性: 分布式系统由不同的程序员来编写不同的的组件,组件最终要集成为一个系统,那么组件所发布的接口必须遵守一定的规范且能够被互相理解.
- 安全性: 加密用于给共享资源提供适当的保护.在网络上传输的所有敏感信息,都需要进行加密,拒绝服务攻击仍然是一个有待解决的问题.
- 可扩展性: 系统要设计成随着业务量的增加,相应的系统也必须要能扩展来提供对应的服务.

## 如何设计分布式系统

- 设计分布式系统的本质就是:如何合理将一个系统拆分成多个子系统部署到不同机器上.所以首先考虑的是如何将系统合理拆分.
- 由于拆分后的子系统不可能孤立存在,必须通过网络进行交互连接,所以他们之间如何通信变得尤为重要.
- 当然在通信过程中要识别敌我,防止信息在传递过程中被拦截和篡改.这就涉及到安全问题了.
- 分布式系统要适应不断增长的业务需求.那么就需要考虑其扩展性,
- 分布式系统还必须要保证可靠性和数据一致性.
- 概括起来,设计分布式系统必须考虑下面几个问题:
	- 系统如何拆分成子系统
	- 如何规划子系统之间的通信
	- 通信过程中的安全如何考虑
	- 如何让子系统可扩展
	- 子系统的可靠性如何保证
	- 数据的一致性是如何实现的.

## 范例

- 在设计通信时,可以采用面向消息的中间件,比如Apache ActiveMQ,RabbitMQ,Apache RocketMQ,Apache kafka等.也哟类似Google Protocol Buffer, Thrift等RPC框架.
- 在设计分布式计算时,可以采用MapReduce, Apache Hadoop, Apache Spark等.
- 在大数据和分布式存储方面,可以选择Apache HBase, Apache Cassandra, Memcached, Redis, MongoDB等.
- 在分布式监控方面,Nagios, Zabbix, Consul, Zookeeper等.	

## 参考

- [分布式系统](https://waylau.com/talk-about-distributed-system/)
