# 链路层

## 简介
- 网络层协议的数据单元时IP数据报，
- 链路层的工作就是把网络层交下来的IP数据报封装为帧发送到链路上，以及把接受到的帧数据取出并交给网络层。
- 数据链路层必须具备一系列相应功能：
	- 将数据封装为帧，帧是数据链路层的传输单位
	- 控制帧的传输，包括处理传输差错，调节发送速率与接收方相匹配
	- 在俩个网络实体之间提供数据链路通路的建立/维持/和释放的管理

## 控制帧的传输
- 差错控制： 通信系统必须具备发现差错的能力，并采取措施纠正，使差错控制在所能允许的最小范围内，这就是差错控制过程也是数据链路的主要功能之一。
	- 反馈重发： 接收方通过对差错编码的检查，可以判断一帧在传输过程中是否发生了差错，一般可以采用反馈重发的方法纠正。这就是要求在接收完一帧后要求向发送方反馈一个接收是否正确的信号，使发送方据此判断是否要重新发送的决定。发送方仅当收到接收方已正确接收的反馈时才认为该帧已正确发送完毕，否则需要重新发送。
	- 计时器： 如果某一帧发送出现问题，一直不能发送成功，为了避免传输过程停滞不前，通常引入计时器来限定接收方发回反馈消息的时间间隔。当发送方发送一帧的同时也启用计时器，若在限定时间间隔内未能接收到接收方的反馈，即计时器超时，则可认为传出的帧已出错或已丢失需要重新发送。
	- 序号： 由于同一帧数据可能会被重复发送多次，就可能引起接收方多次收到同一帧并将其递交给网络层的情况。为了防止这种情况，可以采用对发送的帧编号的方法，即赋予每帧一个序号，从而使接收方能从该序号区分是新发送来的帧还是重新发送的帧，以此确定要不要将接收到的帧传输给网络层。
- 流量控制： 由于收发双方各自使用的设备工作速率和缓冲存储空间的差异，可能出现发送方的发送能力大于接收方的接收能力，此时若不对发送方的发送速率做适当的限制，前面来不及接收的帧被后面不断发送来的帧淹没，从而造成帧的丢失而出错。
	- 流量控制实际是对发送方数据流量控制，使其发送速率不超过接收方的接收速率。所以需要一些规则使发送方知道什么情况下可以继续发送帧，而在声明情况下需要暂停发送，以等待收到某种反馈信息后再继续发送。这就是流量控制。

