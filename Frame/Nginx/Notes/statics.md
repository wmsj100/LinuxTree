---
title: 动静分离
date: 2020-01-09 08:13:36
modify: 
tags: [Notes]
categories: Nginx
author: wmsj100
email: wmsj100@hotmail.com
---

# 动静分离

## 概要

- 动静分离很早就知道，从最开始做华为线的云就知道了有专门的静态资源服务器，但是不知道是怎么做到的。
- 知道华为的后台都是跑的java代码，是在tomcat上跑的，那么静态资源就是专门的nginx来管理。
- 动静分离的好处太多了，因为静态资源可以缓存，可以放DNS的代理上来加速网站。
- 这个实现过程的关键就是所有的请求都通过nginx接收，然后通过配置文件的正则来匹配，如果是静态资源，就去专门的静态服务器请求数据，

## 操作

- 在反向代理的配置文件中添加下面内容
	```nginx
	location ~* .*\.(css|js|png|jpg|gif|svg)$ {
		root /home/pi/Documents/www/statics;
	}
	```
- 这样所有的静态资源请求就会去静态资源目录请求数据。
- 如果页面静态资源报404，就要查看确认路径是否正确，配置是否有重载，或者重启nginx
- 如果报403，则很大概率是因为引用文件的权限没有放开读取权限导致的。

## 参考

