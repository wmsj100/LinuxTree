---
title: 离线计算和实时计算
date: 2020-05-07 16:33:10
modify: 
tags: [Notes]
categories: Hadoop
author: wmsj100
email: wmsj100@hotmail.com
---

# 离线计算和实时计算

## 概要

- 大数据的类型基本分为离线数据和实时数据，因此对应的处理方式也就有离线计算和实时计算

## 离线计算

- 批量获取数据、批量传输数据、周期性批量计算数据、数据展示
- 离线和实时应该指的是:数据处理的延迟；
- 批量和流式指的是: 数据的处理方式。
- 批量计算只是流式计算的子集，一个设计良好的流式系统完全可以替代批量系统。
- 代表技术：
	- sqoop批量导入数据
	- HDFS批量存储数据
	- MapReduce批量计算数据
	- Hive批量计算数据

## 流式计算

- 数据实时产生、数据实时传输、数据实时计算、实时展示
- 代表技术：
	- Flume实时获取数据
	- kafka/metaq实时数据存储
	- storm/JStorm实时数据计算
	- Redis实时结果缓存

## 批量和流式区别

### 数据处理单位不同

- 批量计算按照数据块来处理数据，每一个task接收一定大小的数据块，比如MR，map任务在处理完成一个完整的数据块后(比如128M)，然后将中间数据发送给reduce任务
- 流式计算的上游算子处理完成一条数据后，会立马发送给下游算子，所以一条数据从进入流式系统到输出结果的时间间隔较短(当然流式系统为了保障吞吐量，也会对数据做buffer)
- 这样的结果就是: 批量计算往往得等到任务全部跑完之后才能得到结果，而流式计算则可以实时获取最新的计算结果。

### 数据源

- 批量计算通常处理的是有限的数据(bound data)，数据源一般采用文件系统，
- 流式计算通常处理无限数据(unbound data)，一般采用消息队列作为数据源

### 任务类型

- 批量计算中的每个任务都是短任务，任务在处理完其负责的数据后关闭
- 流式计算往往是长任务，每个work一直运行，持续接受数据源传过来的数据。

### 容灾

- 离线计算如果计算出现异常，重新计算就可以
- 流式计算需要考虑容灾


## 参考

- [离线数据和实时数据](https://zhuanlan.zhihu.com/p/42783335)
