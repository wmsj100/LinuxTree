---
title: Object类型转换
date: 2016-04-28
tags: [对象,JavaScript,Book]
categories: Dynamic
---

# Object 类型

​	ECMAScript 中的对象其实就是一组数据和功能的集合。对象可以通过执行 new 操作符后跟要创建的对象类型的名称来创建。而创建 Object 类型的实例并为其添加属性和（或）方法，就可以创建自定
义对象，如下所示：`var o = new Object()` ;

​	仅仅创建 Object 的实例并没有什么用处，但关键是要理解一个重要的思想：即在 ECMAScript 中，（就像 Java 中的 java.lang.Object 对象一样） Object 类型是所有它的实例的基础。换句话说，Object 类型所具有的任何属性和方法也同样存在于更具体的对象中。
Object 的每个实例都具有下列属性和方法。

 constructor ：保存着用于创建当前对象的函数。对于前面的例子而言，构造函数（constructor）
就是 Object() 。
 hasOwnProperty(propertyName) ：用于检查给定的属性在当前对象实例中（而不是在实例
的原型中）是否存在。其中，作为参数的属性名（ propertyName ）必须以字符串形式指定（例
如： o.hasOwnProperty("name") ）。
 isPrototypeOf(object) ：用于检查传入的对象是否是传入对象的原型（第 5 章将讨论原
型）。
 propertyIsEnumerable(propertyName) ：用于检查给定的属性是否能够使用 for-in 语句
（本章后面将会讨论）来枚举。与 hasOwnProperty() 方法一样，作为参数的属性名必须以字符
串形式指定。
 toLocaleString() ：返回对象的字符串表示，该字符串与执行环境的地区对应。
 toString() ：返回对象的字符串表示。
 valueOf() ：返回对象的字符串、数值或布尔值表示。通常与 toString() 方法的返回值
相同。
由于在 ECMAScript 中 Object 是所有对象的基础，因此所有对象都具有这些基本的属性和方法。

后置递增和递减与前置递增和递减有一个非常重要的区别，即递增和递减操作是在包含它们的语句被求
值之后才执行的。

```
a = 1;
b = ++a;	//b=2; a=2	先计算后赋值
b = a++;	//b=a; a=3; 先赋值后计算
```

​	所有这 4 个操作符对任何值都适用，也就是它们不仅适用于整数，还可以用于字符串、布尔值、浮点数值和对象。在应用于不同的值时，递增和递减操作符遵循下列规则。
  在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减 1 的操作。字符串变量变成数值变量。
  在应用于一个不包含有效数字字符的字符串时，将变量的值设置为 NaN （第 4 章将详细讨论）。字符串变量变成数值变量。
  在应用于布尔值 false 时，先将其转换为 0 再执行加减 1 的操作。布尔值变量变成数值变量。
  在应用于布尔值 true 时，先将其转换为 1 再执行加减 1 的操作。布尔值变量变成数值变量。
  在应用于浮点数值时，执行加减 1 的操作。
  在应用于对象时，先调用对象的 valueOf() 方法（第 5 章将详细讨论）以取得一个可供操作的值。然后对该值应用前述规则。如果结果是 NaN ，则在调用 toString() 方法后再应用前述规则。对象变量变成数值变量。以下示例展示了上面的一些规则：

```javascript
var s1 = "2";
var s2 = "z";
var b = false;
var f = 1.1;
var o = {
valueOf: function() {
return -1;
}
};
s1++; // 值变成数值 3
s2++; // 值变成 NaN
b++; // 值变成数值 1
f--; // 值变成 0.10000000000000009（由于浮点舍入错误所致）
o--; // 值变成数值-2
```

### 位操作

1. 按位非--值取反

   ```javascript
   var num1 = 25; 
   // 二进制 00000000000000000000000000011001
   var num2 = ~num1; 
   // 二进制 11111111111111111111111111100110
   alert(num2); // -26
   ```

   下面的代码也能得到相同的结果：

   ```javascript
   var num1 = 25;
   var num2 = -num1 - 1;
   alert(num2);	//-26;
   ```

   虽然以上代码也能返回同样的结果，但由于按位非是在数值表示的最底层执行操作，因此速度更快。

   ​