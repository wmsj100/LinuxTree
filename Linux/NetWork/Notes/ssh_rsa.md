---
title: ssh_rsa
date: 2020-03-16 17:34:06
modify: 
tags: [Notes]
categories: NetWork
author: wmsj100
email: wmsj100@hotmail.com
---

# ssh_rsa

## 概要

- rsa是ssh密钥的非对称算法之一
- 对称加密: 三重DES/AES都属于对称加密,即通过一个密钥可以进行数据的加解密,密钥一旦泄漏,传输的数据则不安全
- 非对称加密: 它存在公钥和私钥的概念,要完成加解密操作,需要俩个密钥同时参与
- 公钥加密,私钥解密;私钥加密,公钥解密;
- 相比对称加密,非对称加密的安全性得到了提升,但也存在明显缺点,非对称加密的效率要远远小于对称加解密.
- 所以非对称加密往往被用于一些安全性要求较高的应用领域
- RSA加密算法是一种典型的非对称加密算法.
- 原理如下: 假如消息发送方A和消息接收方B
	- 消息发送法A在本地构建密钥对,公钥和私钥
	- 消息发送方A将产生的公钥发送给消息接收方B
	- B想A发送数据时通过公钥进行加密,A接受到数据后通过私钥进行解密,完成一次通信
	- A想B发送数据时,通过私钥加密数据,B接受到数据后用公钥进行解密
- 由于公钥是消息发送方A暴露给消息接收方B的,所以这种方式也存在一定的安全隐患,如果公钥在数据传输过程中泄漏,则A通过私钥加密的数据就可能被解密
- 所以为了构建更安全的加密消息传递模型,需要消息发送方和接收方各构建一套密钥对,并分别将各自的公钥暴露给对方,在进行消息传递时,A通过B的公钥对数据加密,B接受到消息通过B的私钥进行解密,反之,B通过A的公钥进行加密,A接受到消息后通过A的私钥进行解密.
- 然后再通过数字签名等技术进行安全性的进一步提升.
- 由于存在多次的非对称加解密,这种方式带来的效率问题也更严重.

## SSH加密原理

- **SSH安全协议原理中,是一种非对称加密与对称加密算法的结合**
- ![](../Image/ssh_server_client.png)
- 首先服务端会通过非对称加密,产生一个公钥和私钥
- 在客户端发起请求时,服务端将公钥暴露给客户端,这个公钥可以被任意暴露
- 客户端在获取公钥后,会产生一个由256位随机数子组成的会话密钥,这里成为口令;
- 客户端通过公钥将这个口令加密,发送给服务端
- 服务器通过私钥进行解密,获取到通讯口令;
- 之后,客户端和服务端的信息传递都通过这个口令进行对称的加解密

## 参考

- [ssh rsa加密解析](https://my.oschina.net/realfighter/blog/388486)
