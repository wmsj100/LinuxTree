---
title: 单体内置对象
date: 2016-05-01
tags: [对象,JavaScript]
categories: Dynamic
---

`ECMAScript` 内置的单体对象有5个：`String , Number , Boolean , Global , Math` ;

## `Global`对象

Global （全局）对象可以说是 ECMAScript 中最特别的一个对象了，因为不管你从什么角度上看，这个对象都是不存在的。ECMAScript 中的 Global 对象在某种意义上是作为一个终极的“兜底儿对象”来定义的。换句话说，不属于任何其他对象的属性和方法，最终都是它的属性和方法。事实上，没有全局变量或全局函数；所有在全局作用域中定义的属性和函数，都是 Global 对象的属性。本书前面介绍过的那些函数，诸如 isNaN() 、 isFinite() 、 parseInt() 以及 parseFloat() ，实际上全都是 Global对象的方法。除此之外， Global 对象还包含其他一些方法。

```javascript
var uri = "http://www.wrox.com/illegal value.htm#start";
//"http://www.wrox.com/illegal%20value.htm#start"
alert(encodeURI(uri));
//"http%3A%2F%2Fwww.wrox.com%2Fillegal%20value.htm%23start"
alert(encodeURIComponent(uri));
```

使用 encodeURI() 编码后的结果是除了空格之外的其他字符都原封不动，只有空格被替换成了%20 。而 encodeURIComponent() 方法则会使用对应的编码替换所有非字母数字字符。这也正是可以对整个 URI使用 encodeURI() ，而只能对附加在现有 URI后面的字符串使用 encodeURIComponent()的原因所在。

URI 方法 encodeURI() 、 encodeURIComponent() 、 decodeURI() 和 decode-URIComponent() 用于替代已经被ECMA-262第3版废弃的 escape() 和 unescape()方法。URI方法能够编码所有 Unicode字符，而原来的方法只能正确地编码 ASCII字符。因此在开发实践中，特别是在产品级的代码中，一定要使用URI方法，不要使用 escape()
和 unescape() 方法。

##  eval() 方法

现在，我们介绍最后一个——大概也是整个 ECMAScript语言中最强大的一个方法： eval() 。 eval()方法就像是一个完整的 ECMAScript 解析器，它只接受一个参数，即要执行的 ECMAScript （或JavaScript）字符串。

当解析器发现代码中调用 eval() 方法时，它会将传入的参数当作实际的 ECMAScript 语句来解析，然后把执行结果插入到原位置。通过 eval() 执行的代码被认为是包含该次调用的执行环境的一部分，因此被执行的代码具有与该执行环境相同的作用域链。这意味着通过 eval() 执行的代码可以引用在包含环境中定义的变量，举个例子：

```javascript
var msg = "hello world";
eval("alert(msg)"); //"hello world"
```

```javascript
eval("function say(){ alert('hello')}");
say();	//"hello";
eval('var a = "hello"');
console.log(a);
```

但由于对 eval() 的调用最终会被替换成定义函数的实际代码，因此可以在下一行调用 sayHi() 。

**能够解释代码字符串的能力非常强大，但也非常危险。因此在使用 eval() 时必须极为谨慎，特别是在用它执行用户输入数据的情况下。否则，可能会有恶意用户输入威胁你的站点或应用程序安全的代码（即所谓的代码注入）。**

##  Window 对象的属性

ECMAScript 虽然没有指出如何直接访问 Global 对象，但 Web 浏览器都是将这个全局对象作为window 对象的一部分加以实现的。因此，在全局作用域中声明的所有变量和函数，就都成为了 window对象的属性。



